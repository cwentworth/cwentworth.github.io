<html>
<head>
</head>
<body>
</body>
<script src="https://www.gstatic.com/firebasejs/5.4.2/firebase.js"></script>
<script>
  // Initialize Firebase
  let config = {
    apiKey: "AIzaSyAUD5iUJv4iQ_zrfbqENOsXgUghMxoq5lg",
    authDomain: "lulu-3f536.firebaseapp.com",
    databaseURL: "https://lulu-3f536.firebaseio.com",
    projectId: "lulu-3f536",
    storageBucket: "",
    messagingSenderId: "204130718041"
  };
  firebase.initializeApp(config);
  let database = firebase.database();
  var cT = new Date(Date.now());
</script>
<p><script>document.write('today is ' + cT.toLocaleDateString());</script></p>
<form onSubmit="dataEntry()">
<p>select what you're logging</p>
<select name = "type" id = "usType">
<option>medication</option>
<option>seizure</option>
<option>other</option>
</select></br>
<input type="text" name = "typeOther" id = "usTypeOther" placeholder = "If other, please describe."></input></br>
<input type="text" name = "month" id = "usMonth" placeholder="Month number 1-12"></input>
<input type="text" name = "day" id = "usDay" placeholder="Day number 1-31"></input>
<input type="text" name = "year" id = "usYear" placeholder="Year"</input></br>
<input type="text" name = "hour" id = "usHour" placeholder="Hour number 1-12"></input>
<input type="text" name = "minute" id = "usMin" placeholder="Minute number 0-59"></input>
<select name = "tz" id = "usTz">
<option>am</option>
<option>pm</option>
</select></br>
<!-- <p>Notes or events</p> -->
<textarea name = "usEvnts" id = "usEvnts" placeholder="Notes of events"></textarea></br>
<!-- <p>Write in the control word</p> -->
<input type="text" name = "usSCW" id = "usSCW" placeholder="what is the control word"></input></br>
<button type="button" onclick="dataEntry();">Enter</button>
</form>

<script>
var dataEntry = function() {
  var usType = document.getElementById('usType').value;
  var usTypeOther = document.getElementById('usTypeOther').value;
  var usSCW = document.getElementById('usSCW').value;
  var usYear = Number(document.getElementById('usYear').value);
  var usMonth = Number(document.getElementById('usMonth').value);
  var usDay = Number(document.getElementById('usDay').value);
  var usHour = Number(document.getElementById('usHour').value);
  var usMin = Number(document.getElementById('usMin').value);
  var usTz = document.getElementById('usTz').value;
  var usEvnts = document.getElementById('usEvnts').value;
  var usMonthM = Number(document.getElementById('usMonth').value) - 1;

  if(document.getElementById('usTz').value == 'pm'){
      var usHourM = Number(document.getElementById('usHour').value) + 12;
    } else {
      var usHourM = Number(document.getElementById('usHour').value);
    };

  var usDt = new Date(usYear,usMonthM,usDay,usHourM,usMin,0,0);
  var usDtStmp = usDt.getTime();

  if(usSCW != '' && usMonth != '' && usDay != '' && usYear != '' && usHour !='' && usMin != ''){
    if(usType == 'medication') {
      var dataEntryM = {
         type:'medication',
         Submitted: Date.now(),
         dt: usDtStmp,
         scw: usSCW
      };
      console.log(dataEntryM);
      //database.ref('activities').push(dataEntryM);
    };

    if(usType == 'seizure') {
      var dataEntryS = {
         type:'seizure',
         Submitted: Date.now(),
         dt: usDtStmp,
         evnts: usEvnts,
         scw: usSCW
      };
      console.log(dataEntryS);
      //database.ref('activities').push(dataEntryS);
    };
  };
};





</script>

</hmtl>
